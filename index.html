<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ã‚¹ãƒ†ã‚¤ãƒ›ãƒ¼ãƒ ãƒ„ã‚¢ãƒ¼ã‚º â€” æ—…è¡Œã‚’ã‚„ã‚ã¦å¹¸ã›ã«å¸°ã‚ã†ï¼ˆå®Œå…¨ç‰ˆï¼‰</title>
<style>
/* RESET */
*{margin:0;padding:0;box-sizing:border-box;font-family:"Noto Sans JP",sans-serif;}
html,body{height:100%;}
body{background:#0b0b0b;color:white;overflow-x:hidden;-webkit-font-smoothing:antialiased;}
.wrapper{max-width:1100px;margin:0 auto;padding:20px;width:100%;}

/* HERO */
.hero{text-align:center;padding:48px 10px 36px;}
.hero h1{font-size:2rem;font-weight:800;margin-bottom:8px;letter-spacing:0.6px;}
.hero p{font-size:1rem;opacity:0.9;margin-bottom:12px;}

/* èµ¤è­¦å‘Šãƒœã‚¿ãƒ³ */
#alertToggle{margin-top:12px;padding:10px 20px;font-size:1rem;border:none;border-radius:50px;background:#b30000;color:white;cursor:pointer;animation:glow 2s infinite;box-shadow:0 0 14px rgba(255,0,0,0.25);}
@keyframes glow{0%{box-shadow:0 0 6px rgba(255,0,0,0.2);}50%{box-shadow:0 0 22px rgba(255,0,0,0.45);}100%{box-shadow:0 0 6px rgba(255,0,0,0.2);}}

/* èµ¤è­¦å‘Šãƒ¢ãƒ¼ãƒ‰ */
.red-alert{background:#2b0000!important;}
.red-alert *{color:#ffb8b8!important;}
.red-alert .pulsing{animation:pulse .6s infinite;}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.03);}100%{transform:scale(1);}}

/* layout */
.row{display:flex;gap:18px;flex-wrap:wrap;align-items:flex-start;margin-top:18px;}
.col{flex:1 1 300px;}

/* PLANS */
.plans{margin-top:18px;}
.plans h2{text-align:center;font-size:1.25rem;margin-bottom:12px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:12px;}
.controls input, .controls select{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:#111;color:white;}
.plan-list{display:grid;grid-template-columns:1fr;gap:12px;}
@media(min-width:900px){.plan-list{grid-template-columns:repeat(3,1fr);}}
.plan-card{background:#131313;border-radius:12px;padding:12px;box-shadow:0 0 12px rgba(255,255,255,0.04);text-align:center;transition:.25s;position:relative;overflow:hidden;}
.plan-card:hover{transform:translateY(-6px);box-shadow:0 0 28px rgba(255,255,255,0.06);}
.plan-card img{width:100%;height:140px;object-fit:cover;border-radius:8px;margin-bottom:8px;}
.plan-card .price{font-size:1.05rem;margin:6px 0;color:#ffd166;}
.favorite-btn{position:absolute;top:10px;right:10px;font-size:1.2rem;cursor:pointer; opacity:0.9;padding:6px;border-radius:8px;background:rgba(0,0,0,0.28);}
.favorite-btn.active{color:#ff4d4d;background:rgba(255,255,255,0.03);}

/* ãŠæ°—ã«å…¥ã‚Šãƒšãƒ¼ã‚¸ */
#favoritePage{display:none;padding:12px 0;}
#favoritePage h2{text-align:center;margin-bottom:12px;}
#favoriteList{display:grid;grid-template-columns:1fr;gap:12px;}
@media(min-width:900px){#favoriteList{grid-template-columns:repeat(3,1fr);}}

/* FORM */
.form-section{margin-top:20px;}
.form-section h2{font-size:1.1rem;margin-bottom:10px;}
form{display:flex;flex-direction:column;gap:10px;margin-top:8px;}
input,select,textarea{padding:12px 14px;border:none;border-radius:10px;background:#181818;color:white;font-size:0.98rem;border:1px solid rgba(255,255,255,0.04);}
input::placeholder{opacity:0.6;}
button.submitBtn{padding:12px;background:#00b7ff;border:none;border-radius:10px;color:black;font-size:1rem;cursor:pointer;transition:.2s;}
button.submitBtn:hover{background:#33c8ff;transform:translateY(-2px);}

/* é€ä¿¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.progress-container{width:100%;background:#222;height:12px;border-radius:10px;margin-top:10px;overflow:hidden;display:none;position:relative;}
.progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#00b7ff,#44e0ff,#00b7ff);transition:width 0.18s linear;background-size:200% 100%;}
@keyframes wave {0%{background-position:0 0;}100%{background-position:200% 0;}}

/* ã‚¨ãƒ©ãƒ¼ç”»é¢ */
#errorBox{display:none;margin-top:12px;padding:16px;background:#400;border-left:6px solid red;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.6);}

/* ã‚¨ãƒ©ãƒ¼æŒ¯å‹• */
@keyframes vibrate {
  0%{ transform: translateX(0) }
  20%{ transform: translateX(-8px) }
  40%{ transform: translateX(8px) }
  60%{ transform: translateX(-6px) }
  80%{ transform: translateX(6px) }
  100%{ transform: translateX(0) }
}

/* æˆåŠŸãƒœãƒƒã‚¯ã‚¹ */
.success{display:none;margin-top:12px;padding:16px;background:linear-gradient(135deg,#062,#098);border-left:6px solid #2f6;border-radius:10px;color:#051505;}

/* èŠ±ç«ç”¨ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ï¼‰ */
#fireworksCanvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:9999;display:none;}

/* ã‚³ãƒ³ãƒ•ã‚§ãƒ†ã‚£ (è£œåŠ©) */
.confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:9998;}

/* å…¨ãƒœã‚¿ãƒ³å…±é€š */
button, .glow-btn, #alertToggle, .submitBtn{
  border:none;border-radius:12px;padding:8px 14px;font-size:0.95rem;font-weight:700;cursor:pointer;background:linear-gradient(135deg,#1e1e1e,#2c2c2c);color:white;letter-spacing:0.4px;transition:0.2s ease;box-shadow:0 0 10px rgba(255,255,255,0.08);
}

/* èµ¤è­¦å‘Šæ™‚ */
.red-alert button, .red-alert .submitBtn{
  background:linear-gradient(135deg,#4d0000,#7a0000) !important;box-shadow:0 0 14px red !important;
}

/* extra */
.back-btn{display:inline-block;margin-top:12px;background:#444;padding:8px 12px;border-radius:8px;text-decoration:none;color:white;}
.plans-extra{margin-top:20px;display:grid;grid-template-columns:1fr;gap:10px;}
@media(min-width:900px){.plans-extra{grid-template-columns:repeat(2,1fr);}}

/* responsive tweaks */
@media(max-width:640px){
  .hero h1{font-size:1.6rem;}
  .plan-card img{height:120px;}
  .wrapper{padding:12px;}
}
</style>
</head>
<body>
<div class="wrapper">

<section class="hero pulsing">
  <h1>ã‚¹ãƒ†ã‚¤ãƒ›ãƒ¼ãƒ ãƒ„ã‚¢ãƒ¼ã‚º</h1>
  <p>æ—…è¡Œã—ãªã„ã¨ã„ã†æœ€é«˜ã®è´…æ²¢ã€‚ã‚ãªãŸã®å®¶ãŒã€ä»Šæ—¥ã‹ã‚‰ä¸–ç•Œæœ€é«˜ã®è¦³å…‰åœ°ã«ã€‚</p>
  <button id="alertToggle">ğŸ”´ èµ¤è­¦å‘Šãƒ¢ãƒ¼ãƒ‰</button>
  <div style="margin-top:12px;">
    <button id="goFavorite" style="margin-top:6px;padding:8px 14px;font-size:0.95rem;border-radius:10px;border:none;cursor:pointer;background:#ffaa00;color:black;">â­ ãŠæ°—ã«å…¥ã‚Šã‚’è¦‹ã‚‹</button>
    <a href="#" id="backToMain" class="back-btn" style="display:none;">â† å…ƒã®ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</a>
  </div>
</section>

<section class="plans" id="planSection">
  <h2>ãŠã™ã™ã‚åœ¨å®…ãƒ—ãƒ©ãƒ³ï¼ˆè¨ˆ 12 ãƒ—ãƒ©ãƒ³ï¼‰</h2>

  <div class="controls" aria-hidden="false" style="margin-top:8px;">
    <input id="searchInput" type="search" placeholder="æ¤œç´¢ï¼ˆä¾‹ï¼šNetflixã€å¸ƒå›£ã€æ¸©æ³‰ï¼‰" style="min-width:180px;">
    <select id="filterCategory">
      <option value="all">ã‚«ãƒ†ã‚´ãƒª: ã™ã¹ã¦</option>
      <option value="relax">ç™’ã—ç³»</option>
      <option value="comfy">çœã‚¨ãƒç³»</option>
      <option value="wild">å¦„æƒ³ç³»</option>
      <option value="fun">ãŠãµã–ã‘ç³»</option>
    </select>
    <select id="sortSelect">
      <option value="default">ä¸¦ã¹æ›¿ãˆ: æ¨å¥¨é †</option>
      <option value="price-asc">ä¾¡æ ¼: å®‰ã„é †</option>
      <option value="price-desc">ä¾¡æ ¼: é«˜ã„é †</option>
      <option value="name-asc">åå‰: Aâ†’Z</option>
      <option value="name-desc">åå‰: Zâ†’A</option>
      <option value="random">ãƒ©ãƒ³ãƒ€ãƒ </option>
    </select>
    <button id="clearFilters" style="background:#333;color:white;padding:8px 10px;border-radius:8px;">ãƒ•ã‚£ãƒ«ã‚¿è§£é™¤</button>
  </div>

  <div class="plan-list" id="planList" aria-live="polite"></div>
</section>

<section id="favoritePage">
  <h2>ãŠæ°—ã«å…¥ã‚Šä¸€è¦§</h2>
  <div id="favoriteList"></div>
</section>

<section class="form-section">
  <h2>äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </h2>

  <form id="reserveForm" novalidate>
    <input id="name" type="text" name="name" placeholder="åå‰" required>
    <input id="email" type="email" name="email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" required>
    <input id="tel" type="text" name="tel" placeholder="é›»è©±ç•ªå·ï¼ˆä»»æ„ï¼‰">
    <input id="place" type="text" name="place" placeholder="è¡ŒããŸã„å ´æ‰€ï¼ˆå®¶ã®ä¸­ã§ã‚‚OKï¼‰" required>

    <select id="level" name="level" required>
      <option value="">è¡ŒããŸã„åº¦</option>
      <option value="0">0ï¼ˆè¡Œã‹ãªã„ï¼‰</option>
      <option value="1">1ï¼ˆã¾ã‚è¡Œã‹ãªã„ï¼‰</option>
      <option value="2">2ï¼ˆã‚„ã£ã±è¡Œã‹ãªã„ï¼‰</option>
      <option value="3">3ï¼ˆçµ¶å¯¾è¡Œã‹ãªã„ï¼‰</option>
    </select>

    <button class="submitBtn" type="submit">é€ä¿¡</button>
  </form>

  <div class="progress-container" id="progressArea">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div id="errorBox" role="alert" aria-live="assertive"></div>
  <div id="successBox" class="success" role="status" aria-live="polite"></div>
  <div id="confetti" class="confetti" aria-hidden="true"></div>
</section>

<footer style="margin-top:24px;text-align:center;opacity:0.6;">Â© 2025 StayHomeTours</footer>
</div>

<!-- èŠ±ç«ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ï¼‰ -->
<canvas id="fireworksCanvas"></canvas>

   <script>
/* ----------------------------
   äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ å¼·åŒ–ï¼ˆæ¤œè¨¼ãƒ»é€ä¿¡æ¼”å‡ºãƒ»35%ã‚¨ãƒ©ãƒ¼ï¼‰
---------------------------- */
const form = document.getElementById('reserveForm');
const progressArea = document.getElementById('progressArea');
const progressBar = document.getElementById('progressBar');
const errorBox = document.getElementById('errorBox');
const successBox = document.getElementById('successBox');
const canvas = document.getElementById('fireworksCanvas');
const ctx = canvas.getContext('2d');

/* 10å€‹ä»¥ä¸Šã®ã‚¨ãƒ©ãƒ¼ç†ç”± */
const errorReasons = [
  "ã‚µãƒ¼ãƒãƒ¼ãŒå¯ã¦ã„ã¾ã™ã€‚",
  "AI ãŒæ•£æ­©ã«å‡ºã‹ã‘ã¾ã—ãŸã€‚",
  "å…¥åŠ›æƒ…å ±ãŒè¬ã®æ¬¡å…ƒã«å¸ã„è¾¼ã¾ã‚Œã¾ã—ãŸã€‚",
  "ã‚ãªãŸã®ã‚„ã‚‹æ°—ãƒ¬ãƒ™ãƒ«ãŒ 3 æœªæº€ã§ã™ã€‚",
  "å®¶ã® Wi-Fi ãŒã‚„ã‚‹æ°—ã‚’å¤±ã„ã¾ã—ãŸã€‚",
  "ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ï¼šå¤šåˆ†æ°—ã®ã›ã„ã§ã™ã€‚",
  "äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ãŒã‚¹ãƒˆãƒ©ã‚¤ã‚­ä¸­ã§ã™ã€‚",
  "ä»Šã¯æº€æ½®ã®ãŸã‚é€ä¿¡ã§ãã¾ã›ã‚“ã€‚",
  "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ï¼šçŒ«ã«å¼¾ã‹ã‚Œã¾ã—ãŸã€‚",
  "ã‚ãªãŸã®å¸ƒå›£ãŒé›¢ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚",
  "ã‚·ã‚¹ãƒ†ãƒ ãŒ Netflix ã‚’è¦‹å§‹ã‚ã¾ã—ãŸã€‚",
  "ä¸–ç•Œç·šãŒã‚ºãƒ¬ã¾ã—ãŸã€‚"
];

/* å…¥åŠ›ãƒã‚§ãƒƒã‚¯ */
function validateForm(){
  let name = document.getElementById('name').value.trim();
  let email = document.getElementById('email').value.trim();
  let place = document.getElementById('place').value.trim();
  let level = document.getElementById('level').value;

  if(!name || !email || !place || !level){
    return "å¿…é ˆé …ç›®ãŒæœªå…¥åŠ›ã§ã™ã€‚";
  }
  if(!email.includes('@')){
    return "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚";
  }
  return "";
}

/* é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ */
form.addEventListener('submit', (e)=>{
  e.preventDefault();
  errorBox.style.display = 'none';
  successBox.style.display = 'none';

  const err = validateForm();
  if(err){
    showError(err);
    return;
  }

  simulateSend();
});

/* ç–‘ä¼¼é€ä¿¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ35ï¼…ã§ã‚¨ãƒ©ãƒ¼ï¼‰ */
function simulateSend(){
  progressArea.style.display = 'block';
  progressBar.style.width = '0%';

  let percent = 0;
  let timer = setInterval(()=>{
    percent += Math.random()*12;
    if(percent > 100) percent = 100;
    progressBar.style.width = percent + "%";

    // é€ä¿¡å®Œäº†
    if(percent >= 100){
      clearInterval(timer);
      progressArea.style.display = 'none';

      // 35%ã§ã‚¨ãƒ©ãƒ¼
      if(Math.random() < 0.35){
        const msg = errorReasons[Math.floor(Math.random() * errorReasons.length)];
        showError(msg);
      } else {
        showSuccess();
      }
    }
  }, 180);
}

/* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º + æŒ¯å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
function showError(message){
  errorBox.textContent = message;
  errorBox.style.display = 'block';

  // èµ¤è­¦å‘Šãƒ¢ãƒ¼ãƒ‰ã¨é€£å‹•
  document.body.classList.add('red-alert');

  errorBox.style.animation = "vibrate 0.4s";
  setTimeout(()=> errorBox.style.animation = "", 450);
}

/* æˆåŠŸè¡¨ç¤º */
function showSuccess(){
  successBox.textContent = "äºˆç´„ãŒå®Œäº†ã—ã¾ã—ãŸï¼ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼";
  successBox.style.display = 'block';

  // èµ¤è­¦å‘Šè§£é™¤
  document.body.classList.remove('red-alert');

  // èŠ±ç«ã‚’èµ·å‹•
  startFireworks();
}


/* ----------------------------
   èŠ±ç«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæˆåŠŸæ™‚ï¼‰
---------------------------- */
let fireworks = [];

function startFireworks(){
  canvas.style.display = "block";
  resizeCanvas();

  fireworks = [];
  for(let i=0; i<8; i++){
    setTimeout(()=> spawnFirework(), i * 300);
  }

  animateFireworks();

  setTimeout(()=>{
    canvas.style.display = "none";
    fireworks = [];
  }, 3500);
}

function spawnFirework(){
  const x = Math.random() * canvas.width;
  const y = Math.random() * canvas.height * 0.6;

  for(let i=0; i<40; i++){
    fireworks.push({
      x, y,
      radius: Math.random()*3+2,
      angle: Math.random()*Math.PI*2,
      speed: Math.random()*4+2,
      alpha: 1
    });
  }
}

function animateFireworks(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  fireworks.forEach(f=>{
    f.x += Math.cos(f.angle) * f.speed;
    f.y += Math.sin(f.angle) * f.speed;
    f.alpha -= 0.02;

    ctx.beginPath();
    ctx.fillStyle = `rgba(${200+Math.random()*55},${60+Math.random()*150},255,${f.alpha})`;
    ctx.arc(f.x, f.y, f.radius, 0, Math.PI*2);
    ctx.fill();
  });

  fireworks = fireworks.filter(f=>f.alpha > 0);

  if(fireworks.length > 0){
    requestAnimationFrame(animateFireworks);
  }
}

/* ãƒªã‚µã‚¤ã‚ºå¯¾å¿œ */
function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);


/* ----------------------------
   èµ¤è­¦å‘Šãƒ¢ãƒ¼ãƒ‰ ON/OFF
---------------------------- */
const alertToggle = document.getElementById('alertToggle');

alertToggle.addEventListener('click',()=>{
  document.body.classList.toggle('red-alert');
});
</script>
</body>
</html>
